{"ast":null,"code":"import { all, takeLatest, call, put, take } from \"redux-saga/effects\";\nimport { LOG_IN, LOG_IN_SUCCESS, LOG_IN_FAILURE } from \"../reducers/user\";\nconst HELLO_SAGA = \"HELLO_SAGA\";\n\nfunction loginAPI() {// 서버에 요청을 보내는 부분\n}\n\nfunction* login() {\n  try {\n    yield call(loginAPI); // put은 dispatch와 동일\n\n    yield put({\n      type: LOG_IN_SUCCESS\n    });\n  } catch (e) {\n    // loginAPI 실패시\n    console.error(e);\n    yield put({\n      type: LOG_IN_FAILURE\n    });\n  }\n} // 1. login 요청을 해서 상단의 login함수 실행되게 함(비동기동작 위한 대기)\n\n\nfunction* watchLogin() {\n  yield takeLatest(LOG_IN, login);\n} // take: 해당 액션이 dispatch되면 제너레이터를 next하는 이펙트\n// HELLO_SAGA가 불려오면 next를 해준다.(hello saga까지)\n// 하지만 while 하면 무제한 반복(pages/index.js)에 dispatch 많이 복사하면 그 여러개 실행\n// \n\n\nfunction* helloSaga() {\n  console.log(\"before saga\");\n\n  for (let i = 0; i < 5; i++) {\n    yield take(HELLO_SAGA);\n    console.log(\"hello saga\");\n  }\n}\n\nexport default function* userSaga() {\n  yield all[(watchHello(), watchLogin(), watchSignUp())];\n}","map":{"version":3,"sources":["C:/Users/arthu/Documents/react-nodebird/front/sagas/user.js"],"names":["all","takeLatest","call","put","take","LOG_IN","LOG_IN_SUCCESS","LOG_IN_FAILURE","HELLO_SAGA","loginAPI","login","type","e","console","error","watchLogin","helloSaga","log","i","userSaga","watchHello","watchSignUp"],"mappings":"AAAA,SAASA,GAAT,EAAcC,UAAd,EAA0BC,IAA1B,EAAgCC,GAAhC,EAAqCC,IAArC,QAAiD,oBAAjD;AACA,SAASC,MAAT,EAAiBC,cAAjB,EAAiCC,cAAjC,QAAuD,kBAAvD;AAEA,MAAMC,UAAU,GAAG,YAAnB;;AAEA,SAASC,QAAT,GAAoB,CAClB;AACD;;AAED,UAAUC,KAAV,GAAkB;AAChB,MAAI;AACF,UAAMR,IAAI,CAACO,QAAD,CAAV,CADE,CAEF;;AACA,UAAMN,GAAG,CAAC;AACRQ,MAAAA,IAAI,EAAEL;AADE,KAAD,CAAT;AAGD,GAND,CAME,OAAOM,CAAP,EAAU;AACV;AACAC,IAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACA,UAAMT,GAAG,CAAC;AACRQ,MAAAA,IAAI,EAAEJ;AADE,KAAD,CAAT;AAGD;AACF,C,CAED;;;AACA,UAAUQ,UAAV,GAAuB;AACrB,QAAMd,UAAU,CAACI,MAAD,EAASK,KAAT,CAAhB;AACD,C,CAED;AACA;AACA;AACA;;;AACA,UAAUM,SAAV,GAAsB;AACpBH,EAAAA,OAAO,CAACI,GAAR,CAAY,aAAZ;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1B,UAAMd,IAAI,CAACI,UAAD,CAAV;AACAK,IAAAA,OAAO,CAACI,GAAR,CAAY,YAAZ;AACD;AACF;;AAED,eAAe,UAAUE,QAAV,GAAqB;AAClC,QAAMnB,GAAG,EAAEoB,UAAU,IAAIL,UAAU,EAAd,EAAkBM,WAAW,EAAzC,EAAT;AACD","sourcesContent":["import { all, takeLatest, call, put, take } from \"redux-saga/effects\";\r\nimport { LOG_IN, LOG_IN_SUCCESS, LOG_IN_FAILURE } from \"../reducers/user\";\r\n\r\nconst HELLO_SAGA = \"HELLO_SAGA\";\r\n\r\nfunction loginAPI() {\r\n  // 서버에 요청을 보내는 부분\r\n}\r\n\r\nfunction* login() {\r\n  try {\r\n    yield call(loginAPI);\r\n    // put은 dispatch와 동일\r\n    yield put({\r\n      type: LOG_IN_SUCCESS,\r\n    });\r\n  } catch (e) {\r\n    // loginAPI 실패시\r\n    console.error(e);\r\n    yield put({\r\n      type: LOG_IN_FAILURE,\r\n    });\r\n  }\r\n}\r\n\r\n// 1. login 요청을 해서 상단의 login함수 실행되게 함(비동기동작 위한 대기)\r\nfunction* watchLogin() {\r\n  yield takeLatest(LOG_IN, login);\r\n}\r\n\r\n// take: 해당 액션이 dispatch되면 제너레이터를 next하는 이펙트\r\n// HELLO_SAGA가 불려오면 next를 해준다.(hello saga까지)\r\n// 하지만 while 하면 무제한 반복(pages/index.js)에 dispatch 많이 복사하면 그 여러개 실행\r\n// \r\nfunction* helloSaga() {\r\n  console.log(\"before saga\");\r\n  for (let i = 0; i < 5; i++) {\r\n    yield take(HELLO_SAGA);\r\n    console.log(\"hello saga\");\r\n  }\r\n}\r\n\r\nexport default function* userSaga() {\r\n  yield all[(watchHello(), watchLogin(), watchSignUp())];\r\n}\r\n"]},"metadata":{},"sourceType":"module"}